# 摸鱼精选第 24 期

## [Five ways to break Swift Concurrency](http://blog.hobbyistsoftware.com/2022/11/five-ways-to-break-swift-concurrency/)

Apple 官方文档中说 `@MainActor` 可以保证方法或属性在主线程被调用。
但作者发现在 Xcode 14.1 中，有些情况下是依然在后台线程跑的，比如

- `self.perform(#selector(self.mainActorFunction))`
- NotificationCenter.default 添加 selector 或者 block
- 其他一些 OC 方法的 selector 或 block

所以，`@MainActor` 最好用在你自己的 Swift 代码中，不用 selector，不要和其他的并发模式(比如 OperationQueue)混在一起。
